function initVimeoPlayer(){document.querySelectorAll("[data-vimeo-player-init]").forEach((function(e,t){function n(){const t=e.offsetHeight/e.offsetWidth,n=e.querySelector(".vimeo-player__iframe");if(n&&v)if(t>v){const e=t/v;n.style.width=100*e+"%",n.style.height="100%"}else{const e=v/t;n.style.height=100*e+"%",n.style.width="100%"}}function o(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-playing","true"),f.play()}function i(){f.pause()}function u(e){e-=3600*Math.floor(e/3600);let t=Math.floor(e/60);return t+":"+((e-=60*t)<10?"0"+e:e)}function a(){f.getDuration().then((function(){const e=q.value;f.setCurrentTime(e),w&&(w.value=e)}))}function l(){e.setAttribute("data-vimeo-hover","false")}function r(){"false"===e.getAttribute("data-vimeo-autoplay")?(e.setAttribute("data-vimeo-activated","false"),e.setAttribute("data-vimeo-playing","false"),f.unload()):f.play()}const c=e.getAttribute("data-vimeo-video-id");if(!c)return;const s=`https://player.vimeo.com/video/${c}?api=1&background=1&autoplay=0&loop=0&muted=1`;e.querySelector("iframe").setAttribute("src",s);const d="vimeo-player-advanced-index-"+t;e.setAttribute("id",d);const m=e.id,f=new Vimeo.Player(m);let v;if("true"===e.getAttribute("data-vimeo-update-size")&&f.getVideoWidth().then((function(t){f.getVideoHeight().then((function(n){const o=e.querySelector(".vimeo-player__before");o&&(o.style.paddingTop=n/t*100+"%")}))})),"cover"===e.getAttribute("data-vimeo-update-size")&&f.getVideoWidth().then((function(t){f.getVideoHeight().then((function(o){v=o/t;const i=e.querySelector(".vimeo-player__before");i&&(i.style.paddingTop="0%"),n()}))})),"cover"===e.getAttribute("data-vimeo-update-size")&&window.addEventListener("resize",n),f.on("play",(function(){e.setAttribute("data-vimeo-loaded","true"),e.setAttribute("data-vimeo-playing","true")})),"false"===e.getAttribute("data-vimeo-autoplay"))f.setVolume(1),f.pause();else if(f.setVolume(0),e.setAttribute("data-vimeo-muted","true"),"false"===e.getAttribute("data-vimeo-paused-by-user")){function b(){const t=e.getBoundingClientRect();t.top<window.innerHeight&&t.bottom>0?o():i()}b(),window.addEventListener("scroll",b)}f.on("pause",(function(){e.setAttribute("data-vimeo-playing","false")}));const y=e.querySelector('[data-vimeo-control="play"]');y&&y.addEventListener("click",(function(){f.setVolume(0),o(),"true"===e.getAttribute("data-vimeo-muted")?f.setVolume(0):f.setVolume(1)}));const g=e.querySelector('[data-vimeo-control="pause"]');g&&g.addEventListener("click",(function(){i(),"true"===e.getAttribute("data-vimeo-autoplay")&&(e.setAttribute("data-vimeo-paused-by-user","true"),window.removeEventListener("scroll",b))}));const p=e.querySelector('[data-vimeo-control="mute"]');p&&p.addEventListener("click",(function(){"false"===e.getAttribute("data-vimeo-muted")?(f.setVolume(0),e.setAttribute("data-vimeo-muted","true")):(f.setVolume(1),e.setAttribute("data-vimeo-muted","false"))}));const h=!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled),A=e.querySelector('[data-vimeo-control="fullscreen"]');!h&&A&&(A.style.display="none"),A&&A.addEventListener("click",(()=>{const t=document.getElementById(m);if(!t)return;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(e.setAttribute("data-vimeo-fullscreen","false"),(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document)):(e.setAttribute("data-vimeo-fullscreen","true"),(t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen).call(t))}));const E=()=>{const t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e.setAttribute("data-vimeo-fullscreen",t?"true":"false")};["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach((e=>{document.addEventListener(e,E)}));const S=e.querySelector("[data-vimeo-duration]");f.getDuration().then((function(t){S&&(S.textContent=u(t));e.querySelectorAll('[data-vimeo-control="timeline"], progress').forEach((e=>{e.setAttribute("max",t)}))}));const q=e.querySelector('[data-vimeo-control="timeline"]'),w=e.querySelector("progress");let F;q&&["input","change"].forEach((e=>{q.addEventListener(e,a)})),f.on("timeupdate",(function(e){q&&(q.value=e.seconds),w&&(w.value=e.seconds),S&&(S.textContent=u(Math.trunc(e.seconds)))})),e.addEventListener("mousemove",(function(){"false"===e.getAttribute("data-vimeo-hover")&&e.setAttribute("data-vimeo-hover","true"),clearTimeout(F),F=setTimeout(l,3e3)})),f.on("ended",r)}))}document.addEventListener("DOMContentLoaded",(function(){initVimeoPlayer()}));